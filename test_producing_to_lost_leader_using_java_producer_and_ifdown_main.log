2017-08-03 19:38:51,749 ### Running test_producing_to_lost_leader_using_java_producer_and_ifdown
2017-08-03 19:38:51,749 # Remove all docker containers for a clean start
2017-08-03 19:38:52,715 # Start zookeeper and 3 kafka instances
2017-08-03 19:38:54,623 Creating kafkanetworkfailuretests_zookeeper_1
2017-08-03 19:38:54,623 Creating kafkanetworkfailuretests_kafka_2
2017-08-03 19:38:54,623 Creating kafkanetworkfailuretests_kafka_3
2017-08-03 19:38:54,623 Creating kafkanetworkfailuretests_kafka_1
2017-08-03 19:38:54,623 # Wait for the cluster to start
2017-08-03 19:39:08,651 {'controller_epoch': 1, 'isr': [1001, 1002], 'leader': 1001, 'leader_epoch': 0, 'version': 1}
2017-08-03 19:39:09,911 # Kafka cluster has controller 1001 (1c4897ff013f)
2017-08-03 19:39:12,496 # Topic test-topic has 1001 (1c4897ff013f) as leader and 1002 (2441060582a0) as in sync replica
2017-08-03 19:39:12,496 # Note that the leader is also controller in this cluster (affects fail-over)
2017-08-03 19:39:12,496 # Start a producer and let it run for a while
2017-08-03 19:39:13,570 kafkanetworkfailuretests_zookeeper_1 is up-to-date
2017-08-03 19:39:13,570 kafkanetworkfailuretests_kafka_1 is up-to-date
2017-08-03 19:39:13,571 kafkanetworkfailuretests_kafka_2 is up-to-date
2017-08-03 19:39:13,571 kafkanetworkfailuretests_kafka_3 is up-to-date
2017-08-03 19:39:13,571 Creating kafkanetworkfailuretests_producer_java_1
2017-08-03 19:39:23,580 # Disable the leader on 1001
2017-08-03 19:39:23,580 ## Bring down eth0 on 1c4897ff013f
2017-08-03 19:39:23,631 # Sleep for a while with the leader disconnected before checking what the producer has produced
2017-08-03 19:39:24,254 {'controller_epoch': 1, 'isr': [1001, 1002], 'leader': 1001, 'leader_epoch': 0, 'version': 1}
2017-08-03 19:39:26,910 {'controller_epoch': 1, 'isr': [1001, 1002], 'leader': 1001, 'leader_epoch': 0, 'version': 1}
2017-08-03 19:39:29,524 {'controller_epoch': 1, 'isr': [1001, 1002], 'leader': 1001, 'leader_epoch': 0, 'version': 1}
2017-08-03 19:39:32,136 {'controller_epoch': 2, 'isr': [1002], 'leader': 1002, 'leader_epoch': 1, 'version': 1}
2017-08-03 19:39:34,758 {'controller_epoch': 2, 'isr': [1002], 'leader': 1002, 'leader_epoch': 1, 'version': 1}
2017-08-03 19:39:37,385 {'controller_epoch': 2, 'isr': [1002], 'leader': 1002, 'leader_epoch': 1, 'version': 1}
2017-08-03 19:39:40,007 {'controller_epoch': 2, 'isr': [1002], 'leader': 1002, 'leader_epoch': 1, 'version': 1}
2017-08-03 19:39:42,685 {'controller_epoch': 2, 'isr': [1002], 'leader': 1002, 'leader_epoch': 1, 'version': 1}
2017-08-03 19:39:45,373 {'controller_epoch': 2, 'isr': [1002], 'leader': 1002, 'leader_epoch': 1, 'version': 1}
2017-08-03 19:39:48,062 {'controller_epoch': 2, 'isr': [1002], 'leader': 1002, 'leader_epoch': 1, 'version': 1}
2017-08-03 19:39:50,724 {'controller_epoch': 2, 'isr': [1002], 'leader': 1002, 'leader_epoch': 1, 'version': 1}
2017-08-03 19:39:53,395 {'controller_epoch': 2, 'isr': [1002], 'leader': 1002, 'leader_epoch': 1, 'version': 1}
2017-08-03 19:39:56,080 {'controller_epoch': 2, 'isr': [1002], 'leader': 1002, 'leader_epoch': 1, 'version': 1}
2017-08-03 19:39:58,759 {'controller_epoch': 2, 'isr': [1002], 'leader': 1002, 'leader_epoch': 1, 'version': 1}
2017-08-03 19:40:01,420 {'controller_epoch': 2, 'isr': [1002], 'leader': 1002, 'leader_epoch': 1, 'version': 1}
2017-08-03 19:40:04,069 {'controller_epoch': 2, 'isr': [1002], 'leader': 1002, 'leader_epoch': 1, 'version': 1}
2017-08-03 19:40:06,730 {'controller_epoch': 2, 'isr': [1002], 'leader': 1002, 'leader_epoch': 1, 'version': 1}
2017-08-03 19:40:09,432 {'controller_epoch': 2, 'isr': [1002], 'leader': 1002, 'leader_epoch': 1, 'version': 1}
2017-08-03 19:40:12,123 {'controller_epoch': 2, 'isr': [1002], 'leader': 1002, 'leader_epoch': 1, 'version': 1}
2017-08-03 19:40:14,774 {'controller_epoch': 2, 'isr': [1002], 'leader': 1002, 'leader_epoch': 1, 'version': 1}
2017-08-03 19:40:16,778 # Stop the producer
2017-08-03 19:40:18,615 # Start the consumer
2017-08-03 19:40:19,687 kafkanetworkfailuretests_zookeeper_1 is up-to-date
2017-08-03 19:40:19,687 kafkanetworkfailuretests_kafka_1 is up-to-date
2017-08-03 19:40:19,688 kafkanetworkfailuretests_kafka_2 is up-to-date
2017-08-03 19:40:19,688 kafkanetworkfailuretests_kafka_3 is up-to-date
2017-08-03 19:40:19,688 Creating kafkanetworkfailuretests_consumer_java_1
2017-08-03 19:40:19,688 # Wait for 10 seconds for the consumer to consume
2017-08-03 19:40:29,698 # Stop the consumer
2017-08-03 19:40:40,643 # Logs of what the consumer consumed:
Thu Aug 3 19:40:19 UTC 2017 Starting java consumer
Thu Aug 3 19:39:13 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:14 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:14 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:15 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:16 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:16 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:17 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:17 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:18 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:18 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:19 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:19 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:20 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:20 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:21 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:21 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:22 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:22 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:31 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:31 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:32 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:32 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:33 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:33 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:34 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:34 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:35 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:35 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:36 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:36 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:37 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:37 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:38 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:38 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:39 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:39 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:40 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:40 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:41 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:41 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:42 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:42 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:43 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:43 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:44 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:44 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:45 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:45 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:46 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:46 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:47 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:47 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:48 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:48 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:49 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:49 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:50 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:50 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:51 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:51 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:52 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:52 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:53 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:53 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:54 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:54 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:55 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:55 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:56 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:56 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:57 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:57 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:58 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:58 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:59 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:39:59 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:40:00 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:40:00 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:40:01 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:40:01 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:40:02 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:40:02 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:40:03 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:40:03 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:40:04 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:40:04 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:40:05 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:40:05 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:40:06 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:40:06 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:40:07 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:40:07 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:40:08 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:40:08 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:40:09 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:40:09 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:40:10 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:40:10 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:40:11 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:40:11 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:40:12 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:40:12 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:40:13 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:40:13 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:40:14 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:40:14 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:40:15 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:40:15 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:40:16 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]
Thu Aug 3 19:40:16 UTC 2017 [received Thu Aug 3 19:40:26 UTC 2017]

